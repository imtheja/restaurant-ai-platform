INFO:     Will watch for changes in these directories: ['/Users/tejasmachine/Research/restaurant-ai-platform/backend/restaurant-service']
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
INFO:     Started reloader process [3732] using WatchFiles
INFO:     Started server process [3735]
INFO:     Waiting for application startup.
INFO:main:Starting Restaurant Service...
2025-06-10 18:06:49,990 INFO sqlalchemy.engine.Engine select pg_catalog.version()
INFO:sqlalchemy.engine.Engine:select pg_catalog.version()
2025-06-10 18:06:49,990 INFO sqlalchemy.engine.Engine [raw sql] {}
INFO:sqlalchemy.engine.Engine:[raw sql] {}
2025-06-10 18:06:49,991 INFO sqlalchemy.engine.Engine select current_schema()
INFO:sqlalchemy.engine.Engine:select current_schema()
2025-06-10 18:06:49,991 INFO sqlalchemy.engine.Engine [raw sql] {}
INFO:sqlalchemy.engine.Engine:[raw sql] {}
2025-06-10 18:06:49,992 INFO sqlalchemy.engine.Engine show standard_conforming_strings
INFO:sqlalchemy.engine.Engine:show standard_conforming_strings
2025-06-10 18:06:49,992 INFO sqlalchemy.engine.Engine [raw sql] {}
INFO:sqlalchemy.engine.Engine:[raw sql] {}
2025-06-10 18:06:49,992 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-10 18:06:49,994 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO:sqlalchemy.engine.Engine:SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-06-10 18:06:49,994 INFO sqlalchemy.engine.Engine [generated in 0.00007s] {'table_name': 'restaurants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO:sqlalchemy.engine.Engine:[generated in 0.00007s] {'table_name': 'restaurants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-06-10 18:06:49,996 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO:sqlalchemy.engine.Engine:SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-06-10 18:06:49,996 INFO sqlalchemy.engine.Engine [cached since 0.002653s ago] {'table_name': 'menu_categories', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO:sqlalchemy.engine.Engine:[cached since 0.002653s ago] {'table_name': 'menu_categories', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-06-10 18:06:49,997 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO:sqlalchemy.engine.Engine:SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-06-10 18:06:49,997 INFO sqlalchemy.engine.Engine [cached since 0.003255s ago] {'table_name': 'menu_items', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO:sqlalchemy.engine.Engine:[cached since 0.003255s ago] {'table_name': 'menu_items', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-06-10 18:06:49,998 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO:sqlalchemy.engine.Engine:SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-06-10 18:06:49,998 INFO sqlalchemy.engine.Engine [cached since 0.004136s ago] {'table_name': 'ingredients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO:sqlalchemy.engine.Engine:[cached since 0.004136s ago] {'table_name': 'ingredients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-06-10 18:06:49,999 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO:sqlalchemy.engine.Engine:SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-06-10 18:06:49,999 INFO sqlalchemy.engine.Engine [cached since 0.004925s ago] {'table_name': 'menu_item_ingredients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO:sqlalchemy.engine.Engine:[cached since 0.004925s ago] {'table_name': 'menu_item_ingredients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-06-10 18:06:49,999 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO:sqlalchemy.engine.Engine:SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-06-10 18:06:49,999 INFO sqlalchemy.engine.Engine [cached since 0.005486s ago] {'table_name': 'signature_item_components', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO:sqlalchemy.engine.Engine:[cached since 0.005486s ago] {'table_name': 'signature_item_components', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-06-10 18:06:50,000 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO:sqlalchemy.engine.Engine:SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-06-10 18:06:50,000 INFO sqlalchemy.engine.Engine [cached since 0.006056s ago] {'table_name': 'conversations', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO:sqlalchemy.engine.Engine:[cached since 0.006056s ago] {'table_name': 'conversations', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-06-10 18:06:50,000 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO:sqlalchemy.engine.Engine:SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-06-10 18:06:50,000 INFO sqlalchemy.engine.Engine [cached since 0.006574s ago] {'table_name': 'messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO:sqlalchemy.engine.Engine:[cached since 0.006574s ago] {'table_name': 'messages', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-06-10 18:06:50,001 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
INFO:sqlalchemy.engine.Engine:SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-06-10 18:06:50,001 INFO sqlalchemy.engine.Engine [cached since 0.007126s ago] {'table_name': 'interaction_analytics', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
INFO:sqlalchemy.engine.Engine:[cached since 0.007126s ago] {'table_name': 'interaction_analytics', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-06-10 18:06:50,001 INFO sqlalchemy.engine.Engine COMMIT
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:database.connection:Database tables created successfully
2025-06-10 18:06:50,002 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-10 18:06:50,002 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-06-10 18:06:50,002 INFO sqlalchemy.engine.Engine [generated in 0.00003s] {}
INFO:sqlalchemy.engine.Engine:[generated in 0.00003s] {}
INFO:database.connection:Database connection test successful
2025-06-10 18:06:50,003 INFO sqlalchemy.engine.Engine COMMIT
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:main:Database initialized successfully
INFO:     Application startup complete.
INFO:restaurant_service.requests:[6b80b93d] GET /health - Client: 127.0.0.1 - User-Agent: curl/8.7.1
2025-06-10 18:06:50,313 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-10 18:06:50,313 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-06-10 18:06:50,313 INFO sqlalchemy.engine.Engine [cached since 0.3109s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 0.3109s ago] {}
2025-06-10 18:06:50,315 INFO sqlalchemy.engine.Engine COMMIT
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:restaurant_service.requests:[6b80b93d] Response: 200 - Time: 7.75ms
INFO:     127.0.0.1:59586 - "GET /health HTTP/1.1" 200 OK
INFO:restaurant_service.requests:[8de3e487] GET /api/v1/restaurants/the-cookie-jar - Client: 192.168.65.1 - User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.
INFO:restaurant_service.requests:[a18751fc] GET /api/v1/restaurants/the-cookie-jar/avatar - Client: 192.168.65.1 - User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.
2025-06-10 18:06:52,697 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-10 18:06:52,698 INFO sqlalchemy.engine.Engine SELECT restaurants.id AS restaurants_id, restaurants.name AS restaurants_name, restaurants.slug AS restaurants_slug, restaurants.cuisine_type AS restaurants_cuisine_type, restaurants.description AS restaurants_description, restaurants.avatar_config AS restaurants_avatar_config, restaurants.contact_info AS restaurants_contact_info, restaurants.settings AS restaurants_settings, restaurants.is_active AS restaurants_is_active, restaurants.created_at AS restaurants_created_at, restaurants.updated_at AS restaurants_updated_at 
FROM restaurants 
WHERE restaurants.slug = %(slug_1)s AND restaurants.is_active = true 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT restaurants.id AS restaurants_id, restaurants.name AS restaurants_name, restaurants.slug AS restaurants_slug, restaurants.cuisine_type AS restaurants_cuisine_type, restaurants.description AS restaurants_description, restaurants.avatar_config AS restaurants_avatar_config, restaurants.contact_info AS restaurants_contact_info, restaurants.settings AS restaurants_settings, restaurants.is_active AS restaurants_is_active, restaurants.created_at AS restaurants_created_at, restaurants.updated_at AS restaurants_updated_at 
FROM restaurants 
WHERE restaurants.slug = %(slug_1)s AND restaurants.is_active = true 
 LIMIT %(param_1)s
2025-06-10 18:06:52,698 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'slug_1': 'the-cookie-jar', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[generated in 0.00010s] {'slug_1': 'the-cookie-jar', 'param_1': 1}
2025-06-10 18:06:52,709 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-10 18:06:52,710 INFO sqlalchemy.engine.Engine SELECT restaurants.id AS restaurants_id, restaurants.name AS restaurants_name, restaurants.slug AS restaurants_slug, restaurants.cuisine_type AS restaurants_cuisine_type, restaurants.description AS restaurants_description, restaurants.avatar_config AS restaurants_avatar_config, restaurants.contact_info AS restaurants_contact_info, restaurants.settings AS restaurants_settings, restaurants.is_active AS restaurants_is_active, restaurants.created_at AS restaurants_created_at, restaurants.updated_at AS restaurants_updated_at 
FROM restaurants 
WHERE restaurants.slug = %(slug_1)s AND restaurants.is_active = true 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT restaurants.id AS restaurants_id, restaurants.name AS restaurants_name, restaurants.slug AS restaurants_slug, restaurants.cuisine_type AS restaurants_cuisine_type, restaurants.description AS restaurants_description, restaurants.avatar_config AS restaurants_avatar_config, restaurants.contact_info AS restaurants_contact_info, restaurants.settings AS restaurants_settings, restaurants.is_active AS restaurants_is_active, restaurants.created_at AS restaurants_created_at, restaurants.updated_at AS restaurants_updated_at 
FROM restaurants 
WHERE restaurants.slug = %(slug_1)s AND restaurants.is_active = true 
 LIMIT %(param_1)s
2025-06-10 18:06:52,710 INFO sqlalchemy.engine.Engine [cached since 0.01137s ago] {'slug_1': 'the-cookie-jar', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 0.01137s ago] {'slug_1': 'the-cookie-jar', 'param_1': 1}
INFO:restaurant_service.requests:[8de3e487] Response: 200 - Time: 31.01ms
INFO:restaurant_service.requests:[a18751fc] Response: 200 - Time: 29.59ms
2025-06-10 18:06:52,715 INFO sqlalchemy.engine.Engine COMMIT
INFO:sqlalchemy.engine.Engine:COMMIT
2025-06-10 18:06:52,715 INFO sqlalchemy.engine.Engine COMMIT
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:     192.168.65.1:0 - "GET /api/v1/restaurants/the-cookie-jar HTTP/1.0" 200 OK
INFO:     192.168.65.1:0 - "GET /api/v1/restaurants/the-cookie-jar/avatar HTTP/1.0" 200 OK
INFO:restaurant_service.requests:[f6250cfb] GET /api/v1/restaurants/the-cookie-jar/menu - Client: 192.168.65.1 - User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.
2025-06-10 18:06:52,733 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-06-10 18:06:52,734 INFO sqlalchemy.engine.Engine SELECT restaurants.id AS restaurants_id, restaurants.name AS restaurants_name, restaurants.slug AS restaurants_slug, restaurants.cuisine_type AS restaurants_cuisine_type, restaurants.description AS restaurants_description, restaurants.avatar_config AS restaurants_avatar_config, restaurants.contact_info AS restaurants_contact_info, restaurants.settings AS restaurants_settings, restaurants.is_active AS restaurants_is_active, restaurants.created_at AS restaurants_created_at, restaurants.updated_at AS restaurants_updated_at 
FROM restaurants 
WHERE restaurants.slug = %(slug_1)s AND restaurants.is_active = true 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT restaurants.id AS restaurants_id, restaurants.name AS restaurants_name, restaurants.slug AS restaurants_slug, restaurants.cuisine_type AS restaurants_cuisine_type, restaurants.description AS restaurants_description, restaurants.avatar_config AS restaurants_avatar_config, restaurants.contact_info AS restaurants_contact_info, restaurants.settings AS restaurants_settings, restaurants.is_active AS restaurants_is_active, restaurants.created_at AS restaurants_created_at, restaurants.updated_at AS restaurants_updated_at 
FROM restaurants 
WHERE restaurants.slug = %(slug_1)s AND restaurants.is_active = true 
 LIMIT %(param_1)s
2025-06-10 18:06:52,734 INFO sqlalchemy.engine.Engine [cached since 0.03539s ago] {'slug_1': 'the-cookie-jar', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 0.03539s ago] {'slug_1': 'the-cookie-jar', 'param_1': 1}
2025-06-10 18:06:52,736 INFO sqlalchemy.engine.Engine SELECT menu_categories.id AS menu_categories_id, menu_categories.restaurant_id AS menu_categories_restaurant_id, menu_categories.name AS menu_categories_name, menu_categories.description AS menu_categories_description, menu_categories.display_order AS menu_categories_display_order, menu_categories.is_active AS menu_categories_is_active, menu_categories.created_at AS menu_categories_created_at, menu_categories.updated_at AS menu_categories_updated_at 
FROM menu_categories 
WHERE menu_categories.restaurant_id = %(restaurant_id_1)s::UUID AND menu_categories.is_active = true ORDER BY menu_categories.display_order, menu_categories.name
INFO:sqlalchemy.engine.Engine:SELECT menu_categories.id AS menu_categories_id, menu_categories.restaurant_id AS menu_categories_restaurant_id, menu_categories.name AS menu_categories_name, menu_categories.description AS menu_categories_description, menu_categories.display_order AS menu_categories_display_order, menu_categories.is_active AS menu_categories_is_active, menu_categories.created_at AS menu_categories_created_at, menu_categories.updated_at AS menu_categories_updated_at 
FROM menu_categories 
WHERE menu_categories.restaurant_id = %(restaurant_id_1)s::UUID AND menu_categories.is_active = true ORDER BY menu_categories.display_order, menu_categories.name
2025-06-10 18:06:52,736 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'restaurant_id_1': UUID('bd1ea262-010a-46d1-9a39-4f3daf09fb29')}
INFO:sqlalchemy.engine.Engine:[generated in 0.00010s] {'restaurant_id_1': UUID('bd1ea262-010a-46d1-9a39-4f3daf09fb29')}
2025-06-10 18:06:52,742 INFO sqlalchemy.engine.Engine SELECT menu_items.id AS menu_items_id, menu_items.restaurant_id AS menu_items_restaurant_id, menu_items.category_id AS menu_items_category_id, menu_items.name AS menu_items_name, menu_items.description AS menu_items_description, menu_items.price AS menu_items_price, menu_items.image_url AS menu_items_image_url, menu_items.is_available AS menu_items_is_available, menu_items.is_signature AS menu_items_is_signature, menu_items.spice_level AS menu_items_spice_level, menu_items.preparation_time AS menu_items_preparation_time, menu_items.nutritional_info AS menu_items_nutritional_info, menu_items.allergen_info AS menu_items_allergen_info, menu_items.tags AS menu_items_tags, menu_items.display_order AS menu_items_display_order, menu_items.created_at AS menu_items_created_at, menu_items.updated_at AS menu_items_updated_at, ingredients_1.id AS ingredients_1_id, ingredients_1.name AS ingredients_1_name, ingredients_1.category AS ingredients_1_category, ingredients_1.allergen_info AS ingredients_1_allergen_info, ingredients_1.nutritional_info AS ingredients_1_nutritional_info, ingredients_1.is_active AS ingredients_1_is_active, ingredients_1.created_at AS ingredients_1_created_at, menu_item_ingredients_1.menu_item_id AS menu_item_ingredients_1_menu_item_id, menu_item_ingredients_1.ingredient_id AS menu_item_ingredients_1_ingredient_id, menu_item_ingredients_1.quantity AS menu_item_ingredients_1_quantity, menu_item_ingredients_1.unit AS menu_item_ingredients_1_unit, menu_item_ingredients_1.is_optional AS menu_item_ingredients_1_is_optional, menu_item_ingredients_1.is_primary AS menu_item_ingredients_1_is_primary 
FROM menu_items LEFT OUTER JOIN menu_item_ingredients AS menu_item_ingredients_1 ON menu_items.id = menu_item_ingredients_1.menu_item_id LEFT OUTER JOIN ingredients AS ingredients_1 ON ingredients_1.id = menu_item_ingredients_1.ingredient_id 
WHERE menu_items.restaurant_id = %(restaurant_id_1)s::UUID AND menu_items.category_id = %(category_id_1)s::UUID AND menu_items.is_available = true ORDER BY menu_items.display_order, menu_items.name
INFO:sqlalchemy.engine.Engine:SELECT menu_items.id AS menu_items_id, menu_items.restaurant_id AS menu_items_restaurant_id, menu_items.category_id AS menu_items_category_id, menu_items.name AS menu_items_name, menu_items.description AS menu_items_description, menu_items.price AS menu_items_price, menu_items.image_url AS menu_items_image_url, menu_items.is_available AS menu_items_is_available, menu_items.is_signature AS menu_items_is_signature, menu_items.spice_level AS menu_items_spice_level, menu_items.preparation_time AS menu_items_preparation_time, menu_items.nutritional_info AS menu_items_nutritional_info, menu_items.allergen_info AS menu_items_allergen_info, menu_items.tags AS menu_items_tags, menu_items.display_order AS menu_items_display_order, menu_items.created_at AS menu_items_created_at, menu_items.updated_at AS menu_items_updated_at, ingredients_1.id AS ingredients_1_id, ingredients_1.name AS ingredients_1_name, ingredients_1.category AS ingredients_1_category, ingredients_1.allergen_info AS ingredients_1_allergen_info, ingredients_1.nutritional_info AS ingredients_1_nutritional_info, ingredients_1.is_active AS ingredients_1_is_active, ingredients_1.created_at AS ingredients_1_created_at, menu_item_ingredients_1.menu_item_id AS menu_item_ingredients_1_menu_item_id, menu_item_ingredients_1.ingredient_id AS menu_item_ingredients_1_ingredient_id, menu_item_ingredients_1.quantity AS menu_item_ingredients_1_quantity, menu_item_ingredients_1.unit AS menu_item_ingredients_1_unit, menu_item_ingredients_1.is_optional AS menu_item_ingredients_1_is_optional, menu_item_ingredients_1.is_primary AS menu_item_ingredients_1_is_primary 
FROM menu_items LEFT OUTER JOIN menu_item_ingredients AS menu_item_ingredients_1 ON menu_items.id = menu_item_ingredients_1.menu_item_id LEFT OUTER JOIN ingredients AS ingredients_1 ON ingredients_1.id = menu_item_ingredients_1.ingredient_id 
WHERE menu_items.restaurant_id = %(restaurant_id_1)s::UUID AND menu_items.category_id = %(category_id_1)s::UUID AND menu_items.is_available = true ORDER BY menu_items.display_order, menu_items.name
2025-06-10 18:06:52,742 INFO sqlalchemy.engine.Engine [generated in 0.00016s] {'restaurant_id_1': UUID('bd1ea262-010a-46d1-9a39-4f3daf09fb29'), 'category_id_1': UUID('33fa5974-1667-4f7c-872c-a70f0960a505')}
INFO:sqlalchemy.engine.Engine:[generated in 0.00016s] {'restaurant_id_1': UUID('bd1ea262-010a-46d1-9a39-4f3daf09fb29'), 'category_id_1': UUID('33fa5974-1667-4f7c-872c-a70f0960a505')}
2025-06-10 18:06:52,749 INFO sqlalchemy.engine.Engine SELECT menu_items.id AS menu_items_id, menu_items.restaurant_id AS menu_items_restaurant_id, menu_items.category_id AS menu_items_category_id, menu_items.name AS menu_items_name, menu_items.description AS menu_items_description, menu_items.price AS menu_items_price, menu_items.image_url AS menu_items_image_url, menu_items.is_available AS menu_items_is_available, menu_items.is_signature AS menu_items_is_signature, menu_items.spice_level AS menu_items_spice_level, menu_items.preparation_time AS menu_items_preparation_time, menu_items.nutritional_info AS menu_items_nutritional_info, menu_items.allergen_info AS menu_items_allergen_info, menu_items.tags AS menu_items_tags, menu_items.display_order AS menu_items_display_order, menu_items.created_at AS menu_items_created_at, menu_items.updated_at AS menu_items_updated_at, ingredients_1.id AS ingredients_1_id, ingredients_1.name AS ingredients_1_name, ingredients_1.category AS ingredients_1_category, ingredients_1.allergen_info AS ingredients_1_allergen_info, ingredients_1.nutritional_info AS ingredients_1_nutritional_info, ingredients_1.is_active AS ingredients_1_is_active, ingredients_1.created_at AS ingredients_1_created_at, menu_item_ingredients_1.menu_item_id AS menu_item_ingredients_1_menu_item_id, menu_item_ingredients_1.ingredient_id AS menu_item_ingredients_1_ingredient_id, menu_item_ingredients_1.quantity AS menu_item_ingredients_1_quantity, menu_item_ingredients_1.unit AS menu_item_ingredients_1_unit, menu_item_ingredients_1.is_optional AS menu_item_ingredients_1_is_optional, menu_item_ingredients_1.is_primary AS menu_item_ingredients_1_is_primary 
FROM menu_items LEFT OUTER JOIN menu_item_ingredients AS menu_item_ingredients_1 ON menu_items.id = menu_item_ingredients_1.menu_item_id LEFT OUTER JOIN ingredients AS ingredients_1 ON ingredients_1.id = menu_item_ingredients_1.ingredient_id 
WHERE menu_items.restaurant_id = %(restaurant_id_1)s::UUID AND menu_items.category_id = %(category_id_1)s::UUID AND menu_items.is_available = true ORDER BY menu_items.display_order, menu_items.name
INFO:sqlalchemy.engine.Engine:SELECT menu_items.id AS menu_items_id, menu_items.restaurant_id AS menu_items_restaurant_id, menu_items.category_id AS menu_items_category_id, menu_items.name AS menu_items_name, menu_items.description AS menu_items_description, menu_items.price AS menu_items_price, menu_items.image_url AS menu_items_image_url, menu_items.is_available AS menu_items_is_available, menu_items.is_signature AS menu_items_is_signature, menu_items.spice_level AS menu_items_spice_level, menu_items.preparation_time AS menu_items_preparation_time, menu_items.nutritional_info AS menu_items_nutritional_info, menu_items.allergen_info AS menu_items_allergen_info, menu_items.tags AS menu_items_tags, menu_items.display_order AS menu_items_display_order, menu_items.created_at AS menu_items_created_at, menu_items.updated_at AS menu_items_updated_at, ingredients_1.id AS ingredients_1_id, ingredients_1.name AS ingredients_1_name, ingredients_1.category AS ingredients_1_category, ingredients_1.allergen_info AS ingredients_1_allergen_info, ingredients_1.nutritional_info AS ingredients_1_nutritional_info, ingredients_1.is_active AS ingredients_1_is_active, ingredients_1.created_at AS ingredients_1_created_at, menu_item_ingredients_1.menu_item_id AS menu_item_ingredients_1_menu_item_id, menu_item_ingredients_1.ingredient_id AS menu_item_ingredients_1_ingredient_id, menu_item_ingredients_1.quantity AS menu_item_ingredients_1_quantity, menu_item_ingredients_1.unit AS menu_item_ingredients_1_unit, menu_item_ingredients_1.is_optional AS menu_item_ingredients_1_is_optional, menu_item_ingredients_1.is_primary AS menu_item_ingredients_1_is_primary 
FROM menu_items LEFT OUTER JOIN menu_item_ingredients AS menu_item_ingredients_1 ON menu_items.id = menu_item_ingredients_1.menu_item_id LEFT OUTER JOIN ingredients AS ingredients_1 ON ingredients_1.id = menu_item_ingredients_1.ingredient_id 
WHERE menu_items.restaurant_id = %(restaurant_id_1)s::UUID AND menu_items.category_id = %(category_id_1)s::UUID AND menu_items.is_available = true ORDER BY menu_items.display_order, menu_items.name
2025-06-10 18:06:52,749 INFO sqlalchemy.engine.Engine [cached since 0.007513s ago] {'restaurant_id_1': UUID('bd1ea262-010a-46d1-9a39-4f3daf09fb29'), 'category_id_1': UUID('3760dd64-a7fd-4692-b4a2-bdf6c8276f9b')}
INFO:sqlalchemy.engine.Engine:[cached since 0.007513s ago] {'restaurant_id_1': UUID('bd1ea262-010a-46d1-9a39-4f3daf09fb29'), 'category_id_1': UUID('3760dd64-a7fd-4692-b4a2-bdf6c8276f9b')}
2025-06-10 18:06:52,754 INFO sqlalchemy.engine.Engine SELECT menu_items.id AS menu_items_id, menu_items.restaurant_id AS menu_items_restaurant_id, menu_items.category_id AS menu_items_category_id, menu_items.name AS menu_items_name, menu_items.description AS menu_items_description, menu_items.price AS menu_items_price, menu_items.image_url AS menu_items_image_url, menu_items.is_available AS menu_items_is_available, menu_items.is_signature AS menu_items_is_signature, menu_items.spice_level AS menu_items_spice_level, menu_items.preparation_time AS menu_items_preparation_time, menu_items.nutritional_info AS menu_items_nutritional_info, menu_items.allergen_info AS menu_items_allergen_info, menu_items.tags AS menu_items_tags, menu_items.display_order AS menu_items_display_order, menu_items.created_at AS menu_items_created_at, menu_items.updated_at AS menu_items_updated_at, ingredients_1.id AS ingredients_1_id, ingredients_1.name AS ingredients_1_name, ingredients_1.category AS ingredients_1_category, ingredients_1.allergen_info AS ingredients_1_allergen_info, ingredients_1.nutritional_info AS ingredients_1_nutritional_info, ingredients_1.is_active AS ingredients_1_is_active, ingredients_1.created_at AS ingredients_1_created_at, menu_item_ingredients_1.menu_item_id AS menu_item_ingredients_1_menu_item_id, menu_item_ingredients_1.ingredient_id AS menu_item_ingredients_1_ingredient_id, menu_item_ingredients_1.quantity AS menu_item_ingredients_1_quantity, menu_item_ingredients_1.unit AS menu_item_ingredients_1_unit, menu_item_ingredients_1.is_optional AS menu_item_ingredients_1_is_optional, menu_item_ingredients_1.is_primary AS menu_item_ingredients_1_is_primary 
FROM menu_items LEFT OUTER JOIN menu_item_ingredients AS menu_item_ingredients_1 ON menu_items.id = menu_item_ingredients_1.menu_item_id LEFT OUTER JOIN ingredients AS ingredients_1 ON ingredients_1.id = menu_item_ingredients_1.ingredient_id 
WHERE menu_items.restaurant_id = %(restaurant_id_1)s::UUID AND menu_items.category_id = %(category_id_1)s::UUID AND menu_items.is_available = true ORDER BY menu_items.display_order, menu_items.name
INFO:sqlalchemy.engine.Engine:SELECT menu_items.id AS menu_items_id, menu_items.restaurant_id AS menu_items_restaurant_id, menu_items.category_id AS menu_items_category_id, menu_items.name AS menu_items_name, menu_items.description AS menu_items_description, menu_items.price AS menu_items_price, menu_items.image_url AS menu_items_image_url, menu_items.is_available AS menu_items_is_available, menu_items.is_signature AS menu_items_is_signature, menu_items.spice_level AS menu_items_spice_level, menu_items.preparation_time AS menu_items_preparation_time, menu_items.nutritional_info AS menu_items_nutritional_info, menu_items.allergen_info AS menu_items_allergen_info, menu_items.tags AS menu_items_tags, menu_items.display_order AS menu_items_display_order, menu_items.created_at AS menu_items_created_at, menu_items.updated_at AS menu_items_updated_at, ingredients_1.id AS ingredients_1_id, ingredients_1.name AS ingredients_1_name, ingredients_1.category AS ingredients_1_category, ingredients_1.allergen_info AS ingredients_1_allergen_info, ingredients_1.nutritional_info AS ingredients_1_nutritional_info, ingredients_1.is_active AS ingredients_1_is_active, ingredients_1.created_at AS ingredients_1_created_at, menu_item_ingredients_1.menu_item_id AS menu_item_ingredients_1_menu_item_id, menu_item_ingredients_1.ingredient_id AS menu_item_ingredients_1_ingredient_id, menu_item_ingredients_1.quantity AS menu_item_ingredients_1_quantity, menu_item_ingredients_1.unit AS menu_item_ingredients_1_unit, menu_item_ingredients_1.is_optional AS menu_item_ingredients_1_is_optional, menu_item_ingredients_1.is_primary AS menu_item_ingredients_1_is_primary 
FROM menu_items LEFT OUTER JOIN menu_item_ingredients AS menu_item_ingredients_1 ON menu_items.id = menu_item_ingredients_1.menu_item_id LEFT OUTER JOIN ingredients AS ingredients_1 ON ingredients_1.id = menu_item_ingredients_1.ingredient_id 
WHERE menu_items.restaurant_id = %(restaurant_id_1)s::UUID AND menu_items.category_id = %(category_id_1)s::UUID AND menu_items.is_available = true ORDER BY menu_items.display_order, menu_items.name
2025-06-10 18:06:52,754 INFO sqlalchemy.engine.Engine [cached since 0.01167s ago] {'restaurant_id_1': UUID('bd1ea262-010a-46d1-9a39-4f3daf09fb29'), 'category_id_1': UUID('07ef8bd0-b2d3-48e4-95f8-ca9f092dc388')}
INFO:sqlalchemy.engine.Engine:[cached since 0.01167s ago] {'restaurant_id_1': UUID('bd1ea262-010a-46d1-9a39-4f3daf09fb29'), 'category_id_1': UUID('07ef8bd0-b2d3-48e4-95f8-ca9f092dc388')}
INFO:restaurant_service.requests:[f6250cfb] Response: 200 - Time: 24.57ms
2025-06-10 18:06:52,757 INFO sqlalchemy.engine.Engine COMMIT
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:     192.168.65.1:0 - "GET /api/v1/restaurants/the-cookie-jar/menu HTTP/1.0" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:main:Shutting down Restaurant Service...
INFO:     Application shutdown complete.
INFO:     Finished server process [3735]
INFO:     Stopping reloader process [3732]
